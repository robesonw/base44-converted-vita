import { Router } from 'express';\nimport bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\nimport prisma from '../prisma';\nconst router = Router();\n\nrouter.post('/register', async (req, res) => {\n  const { email, password } = req.body;\n  const hashedPassword = await bcrypt.hash(password, 10);\n  const user = await prisma.user.create({ data: { email, password: hashedPassword } });\n  res.status(201).json(user);\n});\n\nrouter.post('/login', async (req, res) => {\n  const { email, password } = req.body;\n  const user = await prisma.user.findUnique({ where: { email } });\n  if (!user) return res.status(401).send('Unauthorized');\n\n  const isValid = await bcrypt.compare(password, user.password);\n  if (!isValid) return res.status(401).send('Unauthorized');\n\n  const token = jwt.sign({ userId: user.id }, process.env.JWT_SECRET || '', { expiresIn: '1h' });\n  res.json({ token });\n});\n\nrouter.get('/me', async (req, res) => {\n  // Assuming user is already attached to req by auth middleware\n  res.json(req.user);\n});\n\nrouter.post('/logout', (req, res) => {\n  res.status(200).send('Logged out');\n});\n\nexport default router;